<!DOCTYPE html>
<html lang="ru">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Prisma - Todo API –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è</title>
		<style>
			* {
				margin: 0;
				padding: 0;
				box-sizing: border-box;
			}

			body {
				font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto,
					sans-serif;
				line-height: 1.6;
				color: #333;
				background-color: #f8fafc;
			}

			.container {
				background: white;
				min-height: 100vh;
				display: flex;
			}

			.sidebar {
				width: 250px;
				background: #1e293b;
				color: white;
				padding: 20px;
				position: fixed;
				height: 100vh;
				overflow-y: auto;
			}

			.content {
				margin-left: 250px;
				padding: 30px;
				width: calc(100% - 250px);
			}

			.logo {
				font-size: 24px;
				font-weight: bold;
				margin-bottom: 30px;
				color: #60a5fa;
			}

			.nav-menu {
				list-style: none;
			}

			.nav-menu li {
				margin-bottom: 8px;
			}

			.nav-menu a {
				color: #cbd5e1;
				text-decoration: none;
				display: block;
				padding: 8px 12px;
				border-radius: 6px;
				transition: all 0.2s;
			}

			.nav-menu a:hover {
				background: #334155;
				color: white;
			}

			.nav-menu a.active {
				background: #3b82f6;
				color: white;
			}

			h1 {
				color: #1e293b;
				font-size: 2.5rem;
				margin-bottom: 10px;
			}

			h2 {
				color: #374151;
				font-size: 1.8rem;
				margin: 40px 0 20px;
				padding-bottom: 10px;
				border-bottom: 2px solid #e5e7eb;
			}

			h3 {
				color: #4b5563;
				font-size: 1.3rem;
				margin: 25px 0 15px;
			}

			.intro-card {
				background: linear-gradient(135deg, #3b82f6, #1d4ed8);
				color: white;
				padding: 30px;
				border-radius: 12px;
				margin-bottom: 30px;
			}

			.code {
				background: #f1f5f9;
				border: 1px solid #e2e8f0;
				border-radius: 8px;
				padding: 20px;
				margin: 15px 0;
				overflow-x: auto;
				font-family: "Fira Code", "SF Mono", "Monaco", "Consolas", monospace;
				font-size: 14px;
				line-height: 1.6;
				color: #374151;
				white-space: pre-wrap;
			}

			.file-tree {
				background: #f8fafc;
				border: 1px solid #e2e8f0;
				border-radius: 8px;
				padding: 20px;
				margin: 15px 0;
				font-family: "Fira Code", "SF Mono", "Monaco", "Consolas", monospace;
				font-size: 14px;
				line-height: 1.8;
				color: #374151;
				white-space: pre;
			}

			.badge {
				display: inline-block;
				padding: 4px 8px;
				border-radius: 4px;
				color: white;
				font-size: 12px;
				font-weight: bold;
				margin-right: 8px;
			}

			.get {
				background: #10b981;
			}
			.post {
				background: #3b82f6;
			}
			.patch {
				background: #f59e0b;
			}
			.delete {
				background: #ef4444;
			}

			.endpoint {
				background: #f9fafb;
				border: 1px solid #e5e7eb;
				border-radius: 8px;
				padding: 20px;
				margin: 15px 0;
			}

			.endpoint-path {
				font-family: monospace;
				background: #f3f4f6;
				padding: 4px 8px;
				border-radius: 4px;
				margin-left: 10px;
			}

			.alert {
				padding: 15px;
				border-radius: 8px;
				margin: 15px 0;
				border-left: 4px solid;
			}

			.alert-info {
				background: #eff6ff;
				border-color: #3b82f6;
				color: #1e40af;
			}

			.alert-warning {
				background: #fffbeb;
				border-color: #f59e0b;
				color: #92400e;
			}

			.alert-success {
				background: #f0fdf4;
				border-color: #10b981;
				color: #065f46;
			}

			table {
				width: 100%;
				border-collapse: collapse;
				margin: 20px 0;
				border-radius: 8px;
				overflow: hidden;
				border: 1px solid #e5e7eb;
			}

			th,
			td {
				padding: 12px;
				text-align: left;
				border-bottom: 1px solid #e5e7eb;
			}

			th {
				background: #f9fafb;
				font-weight: 600;
				color: #374151;
			}

			.section {
				margin-bottom: 50px;
			}

			@media (max-width: 768px) {
				.sidebar {
					position: static;
					width: 100%;
					height: auto;
				}

				.content {
					margin-left: 0;
					width: 100%;
					padding: 20px;
				}

				.container {
					flex-direction: column;
				}
			}
		</style>
	</head>
	<body>
		<div class="container">
			<nav class="sidebar">
				<div class="logo">üìö Prisma Docs</div>
				<ul class="nav-menu">
					<li><a href="#intro" class="active">–í–≤–µ–¥–µ–Ω–∏–µ</a></li>
					<li><a href="#structure">–°—Ç—Ä—É–∫—Ç—É—Ä–∞</a></li>
					<li><a href="#schema">–°—Ö–µ–º–∞ –ë–î</a></li>
					<li><a href="#crud">CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏</a></li>
					<li><a href="#endpoints">API Endpoints</a></li>
					<li><a href="#examples">–ü—Ä–∏–º–µ—Ä—ã</a></li>
					<li><a href="#commands">–ö–æ–º–∞–Ω–¥—ã</a></li>
				</ul>
			</nav>

			<main class="content">
				<section id="intro" class="section">
					<h1>Prisma ORM</h1>
					<p class="text-gray-600">–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –¥–ª—è Todo API –ø—Ä–æ–µ–∫—Ç–∞</p>

					<div class="intro-card">
						<h3 style="color: white; margin-top: 0">–ß—Ç–æ —Ç–∞–∫–æ–µ Prisma?</h3>
						<p>
							–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π ORM –¥–ª—è Node.js –∏ TypeScript, –∫–æ—Ç–æ—Ä—ã–π —É–ø—Ä–æ—â–∞–µ—Ç —Ä–∞–±–æ—Ç—É
							—Å –±–∞–∑–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ —Ç–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã –∏ –∞–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏—é
							–∫–ª–∏–µ–Ω—Ç–∞.
						</p>
					</div>

					<h3>–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ Prisma:</h3>
					<ul>
						<li><strong>Type-safe</strong> - –ø–æ–ª–Ω–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤</li>
						<li>
							<strong>Auto-generated client</strong> - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è
							–∫–ª–∏–µ–Ω—Ç–∞
						</li>
						<li>
							<strong>Database migrations</strong> - –ø—Ä–æ—Å—Ç–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—Ö–µ–º–æ–π
							–ë–î
						</li>
						<li>
							<strong>Query optimization</strong> - –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã
						</li>
					</ul>

					<div class="alert alert-info">
						<strong>–í –Ω–∞—à–µ–º –ø—Ä–æ–µ–∫—Ç–µ:</strong> Prisma —Ä–∞–±–æ—Ç–∞–µ—Ç —Å PostgreSQL –∏
						–æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç —Ç–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å —Ç–∞–±–ª–∏—Ü–µ–π Todo.
					</div>
				</section>

				<section id="structure" class="section">
					<h2>–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞</h2>

					<div class="file-tree">üìÅ src/
‚î£‚îÅ‚îÅ üìÅ modules/
‚îÉ   ‚î£‚îÅ‚îÅ üìÅ todo/               # –ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã –≤ –ø–∞–º—è—Ç–∏
‚îÉ   ‚îÉ   ‚î£‚îÅ‚îÅ üìÑ todo.controllers.ts
‚îÉ   ‚îÉ   ‚îó‚îÅ‚îÅ üìÑ todo.routes.ts
‚îÉ   ‚îó‚îÅ‚îÅ üìÅ todo-prisma/        # Prisma –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã
‚îÉ       ‚î£‚îÅ‚îÅ üìÑ todo-prisma.controllers.ts
‚îÉ       ‚îó‚îÅ‚îÅ üìÑ todo-prisma.routes.ts
‚î£‚îÅ‚îÅ üìÅ plugins/
‚îÉ   ‚îó‚îÅ‚îÅ üìÑ prisma.ts          # –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ Prisma Client
‚î£‚îÅ‚îÅ üìÅ routes/
‚îÉ   ‚îó‚îÅ‚îÅ üìÑ index.ts           # –ì–ª–∞–≤–Ω—ã–π —Ä–æ—É—Ç–µ—Ä
‚î£‚îÅ‚îÅ üìÑ app.ts
‚îó‚îÅ‚îÅ üìÑ index.ts

üìÅ prisma/
‚î£‚îÅ‚îÅ üìÅ migrations/            # –ú–∏–≥—Ä–∞—Ü–∏–∏ –ë–î
‚îÉ   ‚îó‚îÅ‚îÅ üìÅ 20250811150352_add_todo/
‚îó‚îÅ‚îÅ üìÑ schema.prisma          # –°—Ö–µ–º–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö</div>

					<h3>–ö–ª—é—á–µ–≤—ã–µ —Ñ–∞–π–ª—ã:</h3>

					<h4>1. schema.prisma</h4>
					<div class="code">generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Todo {
  id          Int    @id @default(autoincrement())
  title       String
  description String
}</div>

					<h4>2. plugins/prisma.ts</h4>
					<div class="code">import { PrismaClient } from "@prisma/client";

const prisma = new PrismaClient();

prisma.$connect();

export default prisma;</div>
				</section>

				<section id="schema" class="section">
					<h2>–°—Ö–µ–º–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö</h2>

					<h3>–ú–æ–¥–µ–ª—å Todo</h3>
					<table>
						<thead>
							<tr>
								<th>–ü–æ–ª–µ</th>
								<th>–¢–∏–ø</th>
								<th>–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è</th>
								<th>–û–ø–∏—Å–∞–Ω–∏–µ</th>
							</tr>
						</thead>
						<tbody>
							<tr>
								<td><code>id</code></td>
								<td>Int</td>
								<td>@id @default(autoincrement())</td>
								<td>–£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä</td>
							</tr>
							<tr>
								<td><code>title</code></td>
								<td>String</td>
								<td>NOT NULL</td>
								<td>–ó–∞–≥–æ–ª–æ–≤–æ–∫ –∑–∞–¥–∞—á–∏</td>
							</tr>
							<tr>
								<td><code>description</code></td>
								<td>String</td>
								<td>NOT NULL</td>
								<td>–û–ø–∏—Å–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏</td>
							</tr>
						</tbody>
					</table>

					<div class="alert alert-warning">
						<strong>–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:</strong> –í —Å—Ö–µ–º–µ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –ø–æ–ª–µ
						<code>completed</code> –¥–ª—è —Å—Ç–∞—Ç—É—Å–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è.
					</div>
				</section>

				<section id="crud" class="section">
					<h2>CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏</h2>

					<h3>CREATE - –°–æ–∑–¥–∞–Ω–∏–µ</h3>
					<div class="code">const data = await prisma.todo.create({
  data: {
    title: "–ù–æ–≤–∞—è –∑–∞–¥–∞—á–∞",
    description: "–û–ø–∏—Å–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏"
  }
});</div>

					<h3>READ - –ß—Ç–µ–Ω–∏–µ</h3>
					<div class="code">// –í—Å–µ –∑–∞–ø–∏—Å–∏
const todos = await prisma.todo.findMany();

// –û–¥–Ω–∞ –∑–∞–ø–∏—Å—å
const todo = await prisma.todo.findFirst({
  where: { id: 1 }
});</div>

					<h3>UPDATE - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ</h3>
					<div class="code">const updated = await prisma.todo.update({
  where: { id: 1 },
  data: {
    title: "–û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π –∑–∞–≥–æ–ª–æ–≤–æ–∫"
  }
});</div>

					<h3>DELETE - –£–¥–∞–ª–µ–Ω–∏–µ</h3>
					<div class="code">const deleted = await prisma.todo.delete({
  where: { id: 1 }
});</div>
				</section>

				<section id="endpoints" class="section">
					<h2>API Endpoints</h2>
					<p>–ë–∞–∑–æ–≤—ã–π –ø—É—Ç—å: <code>/api/v1/todo-prisma</code></p>

					<div class="endpoint">
						<span class="badge get">GET</span>
						<span class="endpoint-path">/get-all</span>
						<p>–ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ –∑–∞–¥–∞—á–∏</p>
					</div>

					<div class="endpoint">
						<span class="badge get">GET</span>
						<span class="endpoint-path">/get/:id</span>
						<p>–ü–æ–ª—É—á–∏—Ç—å –∑–∞–¥–∞—á—É –ø–æ ID</p>
					</div>

					<div class="endpoint">
						<span class="badge post">POST</span>
						<span class="endpoint-path">/create</span>
						<p>–°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é –∑–∞–¥–∞—á—É</p>
						<div class="code">{
  "title": "string",
  "description": "string"
}</div>
					</div>

					<div class="endpoint">
						<span class="badge patch">PATCH</span>
						<span class="endpoint-path">/update/:id</span>
						<p>–û–±–Ω–æ–≤–∏—Ç—å –∑–∞–¥–∞—á—É</p>
						<div class="code">{
  "title": "string",
  "description": "string"
}</div>
					</div>

					<div class="endpoint">
						<span class="badge delete">DELETE</span>
						<span class="endpoint-path">/delete/:id</span>
						<p>–£–¥–∞–ª–∏—Ç—å –∑–∞–¥–∞—á—É</p>
					</div>
				</section>

				<section id="examples" class="section">
					<h2>–ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤</h2>

					<h3>–°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏</h3>
					<div class="code">POST /api/v1/todo-prisma/create
Content-Type: application/json

{
  "title": "–ò–∑—É—á–∏—Ç—å Prisma",
  "description": "–ü—Ä–æ—á–∏—Ç–∞—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é"
}

// –û—Ç–≤–µ—Ç:
{
  "success": true,
  "data": {
    "id": 1,
    "title": "–ò–∑—É—á–∏—Ç—å Prisma",
    "description": "–ü—Ä–æ—á–∏—Ç–∞—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é"
  }
}</div>

					<h3>–ü–æ–ª—É—á–µ–Ω–∏–µ –≤—Å–µ—Ö –∑–∞–¥–∞—á</h3>
					<div class="code">GET /api/v1/todo-prisma/get-all

// –û—Ç–≤–µ—Ç:
{
  "success": true,
  "data": [
    {
      "id": 1,
      "title": "–ò–∑—É—á–∏—Ç—å Prisma",
      "description": "–ü—Ä–æ—á–∏—Ç–∞—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é"
    }
  ]
}</div>

					<h3>–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–∞–¥–∞—á–∏</h3>
					<div class="code">PATCH /api/v1/todo-prisma/update/1
Content-Type: application/json

{
  "title": "–ò–∑—É—á–∏—Ç—å Prisma ORM",
  "description": "–£–≥–ª—É–±–ª–µ–Ω–Ω–æ–µ –∏–∑—É—á–µ–Ω–∏–µ"
}

// –û—Ç–≤–µ—Ç:
{
  "success": true,
  "data": {
    "id": 1,
    "title": "–ò–∑—É—á–∏—Ç—å Prisma ORM",
    "description": "–£–≥–ª—É–±–ª–µ–Ω–Ω–æ–µ –∏–∑—É—á–µ–Ω–∏–µ"
  }
}</div>

					<div class="alert alert-success">
						<strong>–°–æ–≤–µ—Ç:</strong> –í—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ try-catch –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏
						–æ—à–∏–±–æ–∫ –∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö.
					</div>
				</section>

				<section id="commands" class="section">
					<h2>–ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã</h2>

					<div class="code"># –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–ª–∏–µ–Ω—Ç–∞
npx prisma generate

# –°–æ–∑–¥–∞–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–∏
npx prisma migrate dev --name –∏–º—è_–º–∏–≥—Ä–∞—Ü–∏–∏

# –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–π
npx prisma migrate deploy

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ë–î
npx prisma studio

# –°–±—Ä–æ—Å –ë–î
npx prisma migrate reset</div>

					<div class="alert alert-info">
						–í <code>package.json</code> –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ
						<code>prisma generate</code> –ø–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π.
					</div>
				</section>
			</main>
		</div>

		<script>
			// –ü—Ä–æ—Å—Ç–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è
			document.querySelectorAll(".nav-menu a").forEach((link) => {
				link.addEventListener("click", function (e) {
					e.preventDefault();

					// –£–±–∏—Ä–∞–µ–º –∞–∫—Ç–∏–≤–Ω—ã–π –∫–ª–∞—Å—Å
					document
						.querySelectorAll(".nav-menu a")
						.forEach((l) => l.classList.remove("active"));

					// –î–æ–±–∞–≤–ª—è–µ–º –∞–∫—Ç–∏–≤–Ω—ã–π –∫–ª–∞—Å—Å
					this.classList.add("active");

					// –°–∫—Ä–æ–ª–ª–∏–º –∫ —Å–µ–∫—Ü–∏–∏
					const target = document.querySelector(this.getAttribute("href"));
					if (target) {
						target.scrollIntoView({ behavior: "smooth", block: "start" });
					}
				});
			});
		</script>
	</body>
</html>